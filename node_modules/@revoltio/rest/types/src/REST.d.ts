import { CDN } from './CDN.js';
import { DeleteRoutes, GetRoutes, PatchRoutes, PostRoutes, PutRoutes } from './types/routes.js';
export interface RESTOptions {
    app: string;
    api: string;
    cdn: string;
    timeout: number;
    retries: number;
}
export interface APIRequest {
    path: string;
    method: 'GET' | 'POST' | 'DELETE' | 'PATCH' | 'PUT';
    body?: unknown;
    query?: Record<string, unknown>;
    retries: number;
}
declare type Count<Str extends string, SubStr extends string, Matches extends null[] = []> = Str extends `${infer _}${SubStr}${infer After}` ? Count<After, SubStr, [...Matches, null]> : Matches['length'];
declare type DeepPartial<T> = T extends object ? {
    [P in keyof T]?: DeepPartial<T[P]>;
} : T;
export declare class REST {
    #private;
    readonly cdn: CDN;
    protected readonly options: RESTOptions;
    debug(_msg: string): void;
    constructor(options?: DeepPartial<RESTOptions>);
    private get headers();
    setToken(token: string | null, bot?: boolean): this;
    private request;
    private generateRequest;
    get<Path extends GetRoutes['path'], Route extends Extract<GetRoutes, {
        path: Path;
        parts: Count<Path, '/'>;
        method: 'GET';
    }>>(path: Path, options?: Partial<APIRequest>): Promise<Route['response']>;
    post<Path extends PostRoutes['path'], Route extends Extract<PostRoutes, {
        path: Path;
        parts: Count<Path, '/'>;
        method: 'POST';
    }>>(path: Path, options?: Partial<APIRequest>): Promise<Route['response']>;
    delete<Path extends DeleteRoutes['path'], Route extends Extract<DeleteRoutes, {
        path: Path;
        parts: Count<Path, '/'>;
        method: 'DELETE';
    }>>(path: Path, options?: Partial<APIRequest>): Promise<Route['response']>;
    put<Path extends PutRoutes['path'], Route extends Extract<PutRoutes, {
        path: Path;
        parts: Count<Path, '/'>;
        method: 'PUT';
    }>>(path: Path, options?: Partial<APIRequest>): Promise<Route['response']>;
    patch<Path extends PatchRoutes['path'], Route extends Extract<PatchRoutes, {
        path: Path;
        parts: Count<Path, '/'>;
        method: 'PATCH';
    }>>(path: Path, options?: Partial<APIRequest>): Promise<Route['response']>;
}
export {};
