export class Queue extends Array {
    get remaining() {
        return this.length;
    }
    wait() {
        const next = this[this.length - 1]?.promise ?? Promise.resolve();
        let resolve;
        const promise = new Promise((res) => resolve = res);
        this.push({ resolve: resolve, promise });
        return next;
    }
    next() {
        this.shift()?.resolve();
    }
}
