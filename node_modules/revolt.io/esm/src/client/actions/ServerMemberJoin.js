import { Action, Events } from './Action.js';
export class ServerMemberJoin extends Action {
    async handle(data) {
        let server = this.client.servers.cache.get(data.id);
        if (!server) {
            server = await this.client.servers.fetch(data.id);
            this.client.emit(Events.SERVER_CREATE, server);
        }
        const member = await server.members.fetch(data.user);
        server.members.cache.set(member.id, member);
        this.client.emit(Events.SERVER_MEMBER_JOIN, member);
        return { member };
    }
}
