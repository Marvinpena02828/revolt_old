import { Base } from './mod.js';
import { Collection } from '../util/mod.js';
export class Category extends Base {
    constructor(server, data) {
        super(server.client);
        Object.defineProperty(this, "server", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: server
        });
        Object.defineProperty(this, "name", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "_children", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: []
        });
        this._patch(data);
    }
    _patch(data) {
        super._patch(data);
        if (data.title) {
            this.name = data.title;
        }
        if (Array.isArray(data.channels)) {
            this._children = data.channels;
        }
        return this;
    }
    get children() {
        const coll = new Collection();
        for (const childId of this._children) {
            const child = this.server.channels.cache.get(childId);
            if (child)
                coll.set(child.id, child);
        }
        return coll;
    }
    toString() {
        return this.name;
    }
}
